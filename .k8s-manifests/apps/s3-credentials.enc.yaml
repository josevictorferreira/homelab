apiVersion: ceph.rook.io/v1
kind: CephObjectStoreUser
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-user
    namespace: apps
spec:
    clusterNamespace: rook-ceph
    keys:
        - accessKeyRef:
            key: AWS_ACCESS_KEY_ID
            name: s3-credentials
          secretKeyRef:
            key: AWS_SECRET_ACCESS_KEY
            name: s3-credentials
    store: ceph-objectstore
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBQR3E2WC9oMlA4Z01OWjlQ
            ZGJXWHVsblppcWgxelBKdlRuZlJwRE1kSHhZCkh0VHZ4b0hKbFVDTlRoTi9HcVMy
            N2NVd2JFTlYxaTFQOGZkMDEvdkVKeEkKLS0tIHkyemJyeTUvL0FFOEZSUmFONVA3
            Wis3NEFxa1Bwa0FIalM1Z2ZabHhGTk0KHwDHbpK7bD1r07hfAjSXTAcPMOXc1O9d
            BohhHoQPDybNPWFyFAEPJk/VP+FEm7ToDTi0yY6voQEwPi42LhAObA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBJK1Mwbk5Rei9adzJrZWhO
            ekh1UlNBRE4rMy93M0hQL0N0bWVKUWZlNWcwCm56SVJBYVorT3hMTTZaNFhvS0JS
            bzFFVGdZQVptcktDSks5Ynp3SUJLUWsKLS0tIElhbXQ0VU5JRzcybi9pWXJVOTFT
            T25JWnFraUpLZ0VZTisxNEFIZzByUVUKP6ZWFTmXAXqfKOY4WS+AVnl1x0iHoGbd
            UqhdeLL/uzZ6eQLVMq352jta6/fh5gRIVJWZyVsNqwAdyg1m9GAjSw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtcHY4TEk4bEFKZytwOCtM
            cUJ3Y0NjR0IydUE2dUlIdytOUVZZY29kVG1rCjVYTnBHRFgyV3paSy96SkxwUkdv
            M0E3bGV2TU1XK0pyRjljbmtZS1k2a00KLS0tIDZVem1tZnlsRTIvMTVtRkRYbno1
            aEt5aEp2V2RaSFBwSWZQd1Awenowc0kKAF9Ixun+N3ZXZp6geI20Mp2PumQc0ulZ
            L0jKDxRxASe9sTdr3T2kElPVkuDH9UhggShIQadmYeRBePkhS7sVdg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-09-10T16:45:09Z"
    mac: ENC[AES256_GCM,data:3FX66xmgHW95ZGYVRX1Ej+CuI+FjBu7JDmV8cdhHQKkTWtOXmhdbdqtxgUjhlJJ406MWcUZJaWDsv1bjS/b4Kd4AACNSMQiYd8eSR2xwhKvHTfoJs60W+96ORvqLYd5iap8gJx4lL8OA371xYBWV1/rudr3zI72m/CTBUIqOynI=,iv:VXhmFYEeWrd/Dkz0yQ+EaUqLt7jqL03tGZDKxcXBFQE=,tag:YVqa/UU4hA85ejJOm2lSoQ==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-credentials
    namespace: apps
stringData:
    AWS_ACCESS_KEY_ID: ENC[AES256_GCM,data:kJfW2eButLxiPiLLKiJwekg3qAfTp/01,iv:zkcxKCy96ZYh0TCx3I3uh1lW5lkjEZdxYaNmvfiz9aY=,tag:9/yr3A9MAOHjqQ4jYzoIfQ==,type:str]
    AWS_SECRET_ACCESS_KEY: ENC[AES256_GCM,data:ZBTLlwujjEWaWtb0pSgFiUAkdP02hfIdESb20UuKiXYo0h7G6fVtZNhL8NM=,iv:dGU9NWOSnu3VaXZnssF6lNfk27ePMfjpLYZBKiIsVm4=,tag:YjlgsyUNO8EEFY56wK+9Yg==,type:str]
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBQR3E2WC9oMlA4Z01OWjlQ
            ZGJXWHVsblppcWgxelBKdlRuZlJwRE1kSHhZCkh0VHZ4b0hKbFVDTlRoTi9HcVMy
            N2NVd2JFTlYxaTFQOGZkMDEvdkVKeEkKLS0tIHkyemJyeTUvL0FFOEZSUmFONVA3
            Wis3NEFxa1Bwa0FIalM1Z2ZabHhGTk0KHwDHbpK7bD1r07hfAjSXTAcPMOXc1O9d
            BohhHoQPDybNPWFyFAEPJk/VP+FEm7ToDTi0yY6voQEwPi42LhAObA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBJK1Mwbk5Rei9adzJrZWhO
            ekh1UlNBRE4rMy93M0hQL0N0bWVKUWZlNWcwCm56SVJBYVorT3hMTTZaNFhvS0JS
            bzFFVGdZQVptcktDSks5Ynp3SUJLUWsKLS0tIElhbXQ0VU5JRzcybi9pWXJVOTFT
            T25JWnFraUpLZ0VZTisxNEFIZzByUVUKP6ZWFTmXAXqfKOY4WS+AVnl1x0iHoGbd
            UqhdeLL/uzZ6eQLVMq352jta6/fh5gRIVJWZyVsNqwAdyg1m9GAjSw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtcHY4TEk4bEFKZytwOCtM
            cUJ3Y0NjR0IydUE2dUlIdytOUVZZY29kVG1rCjVYTnBHRFgyV3paSy96SkxwUkdv
            M0E3bGV2TU1XK0pyRjljbmtZS1k2a00KLS0tIDZVem1tZnlsRTIvMTVtRkRYbno1
            aEt5aEp2V2RaSFBwSWZQd1Awenowc0kKAF9Ixun+N3ZXZp6geI20Mp2PumQc0ulZ
            L0jKDxRxASe9sTdr3T2kElPVkuDH9UhggShIQadmYeRBePkhS7sVdg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-09-10T16:45:09Z"
    mac: ENC[AES256_GCM,data:3FX66xmgHW95ZGYVRX1Ej+CuI+FjBu7JDmV8cdhHQKkTWtOXmhdbdqtxgUjhlJJ406MWcUZJaWDsv1bjS/b4Kd4AACNSMQiYd8eSR2xwhKvHTfoJs60W+96ORvqLYd5iap8gJx4lL8OA371xYBWV1/rudr3zI72m/CTBUIqOynI=,iv:VXhmFYEeWrd/Dkz0yQ+EaUqLt7jqL03tGZDKxcXBFQE=,tag:YVqa/UU4hA85ejJOm2lSoQ==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
