apiVersion: ceph.rook.io/v1
kind: CephObjectStoreUser
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-user
    namespace: apps
spec:
    clusterNamespace: rook-ceph
    keys:
        - accessKeyRef:
            key: AWS_ACCESS_KEY_ID
            name: s3-credentials
          secretKeyRef:
            key: AWS_SECRET_ACCESS_KEY
            name: s3-credentials
    store: ceph-objectstore
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSArMTgxVUVTU3FReDNKeGt6
            SFZMbmdoVjYyaTFXMS8zMHNiR2VZY0UrbVhRCk1JUFBOUkUwYjBqUGJFdW9waXB0
            a0FFZGNhV0ZVMTQzejY5MVRMNEpZWlUKLS0tIFh2ejlwOTlBNlAwTTQ3MEVzdklk
            ODU1WEhUb3dJSld6RHJVckhiQmJybUkKo71rjHfGj8KyuW7ko9r6ew7D0udMbaY9
            9CL2A9UoBDSQuwvvLPHo4bv/VV57xV4GkkWfcDyMs89rxgnRQKI6tQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBTMU5zVFpYL3VERzJHRWQy
            SnhhWVlKV3RFVXdOTDlYQzdpMTFhb2pNUEZVCnhTdnQ0a01ZRFpvVVpLNlRINWlz
            cXRWam9Xa00zcTJ6MDU1M3RyaVlLYkUKLS0tIHBZZEhtRU1IM2hReDFacWtnNys1
            ZzV5ZVNMa1Y0Nkc2cG53L0pqeXdVL1kKExEzdVQNQvPxOf8Ur00yM0ZfWspMkBgK
            r5n9SLk0airMpHuZpuwJhm9SLf9AnRmHzmAyX1/PBIKJ5r86pHmsLQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA5THppcmVsYStYZ0dsVk5y
            U0toazhKeDdXRFZSeEJRUmo2T3NwdUNtVzNJCnE2OHJoV2ZNN3hqQ0NNRjNVbEVJ
            cEVtRnlid0JyQ1M2MVVLbzBuNUdZanMKLS0tIEp2QjBPdlA1ajNDZXE2KzZCYVpq
            VWxxQjFFbzJ1aEFyNTUwWnhuR3JFTDAKtTDo1ulp9b6tK5+u4WSrkatTNvNmq1/I
            rms8yshP9fRk2aZ0pYMmdgD64pKz6uFs/oKq+6NMrCIZYbTMuZTMIQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-07T14:05:53Z"
    mac: ENC[AES256_GCM,data:4T88/zZ6cz1ZlJnTAlFST0Yp9+9Oj+tBSC2xGDXJYcXDSdrVS3nqL8NgGCHpVyhXTenLv2UOwiD4RhpOaAQ/nFL+0X6WfpQ/ybr+8QXmGn22c5phDgVn57chyz29QII0QTo18kNoTTsMxEtyddDXblZ5lH3RJH980YUTSY2XBNE=,iv:aSBqPZ/AtdtJvfWe/JiHic5AD68/O0vT4/7Unn8Va3Y=,tag:2QxBWw50P2DGpOsowA8PHg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
---
apiVersion: v1
kind: Secret
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-credentials
    namespace: apps
stringData:
    AWS_ACCESS_KEY_ID: ENC[AES256_GCM,data:EGSpcOjacY1LMFNaphqmwEF5CbVhPq5N,iv:kBEJSgTuRow1sDkm9Kmo1Tyah2ylIUppYU1jXUlJKLE=,tag:tcdVm/LAt/F7HHB0z5EDPQ==,type:str]
    AWS_SECRET_ACCESS_KEY: ENC[AES256_GCM,data:bxZ9smtB6Oj4dudorJD/HbqDNU3LjW6ZHfBemjjGDbRR4Xqdm5QKW0RBdn4=,iv:X6xAkc6rv+2/osX0PTMRwG3qQAVUTkTRMbO1CY8nEjM=,tag:mjQYQY+D6jMU13Laay8dPA==,type:str]
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSArMTgxVUVTU3FReDNKeGt6
            SFZMbmdoVjYyaTFXMS8zMHNiR2VZY0UrbVhRCk1JUFBOUkUwYjBqUGJFdW9waXB0
            a0FFZGNhV0ZVMTQzejY5MVRMNEpZWlUKLS0tIFh2ejlwOTlBNlAwTTQ3MEVzdklk
            ODU1WEhUb3dJSld6RHJVckhiQmJybUkKo71rjHfGj8KyuW7ko9r6ew7D0udMbaY9
            9CL2A9UoBDSQuwvvLPHo4bv/VV57xV4GkkWfcDyMs89rxgnRQKI6tQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBTMU5zVFpYL3VERzJHRWQy
            SnhhWVlKV3RFVXdOTDlYQzdpMTFhb2pNUEZVCnhTdnQ0a01ZRFpvVVpLNlRINWlz
            cXRWam9Xa00zcTJ6MDU1M3RyaVlLYkUKLS0tIHBZZEhtRU1IM2hReDFacWtnNys1
            ZzV5ZVNMa1Y0Nkc2cG53L0pqeXdVL1kKExEzdVQNQvPxOf8Ur00yM0ZfWspMkBgK
            r5n9SLk0airMpHuZpuwJhm9SLf9AnRmHzmAyX1/PBIKJ5r86pHmsLQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA5THppcmVsYStYZ0dsVk5y
            U0toazhKeDdXRFZSeEJRUmo2T3NwdUNtVzNJCnE2OHJoV2ZNN3hqQ0NNRjNVbEVJ
            cEVtRnlid0JyQ1M2MVVLbzBuNUdZanMKLS0tIEp2QjBPdlA1ajNDZXE2KzZCYVpq
            VWxxQjFFbzJ1aEFyNTUwWnhuR3JFTDAKtTDo1ulp9b6tK5+u4WSrkatTNvNmq1/I
            rms8yshP9fRk2aZ0pYMmdgD64pKz6uFs/oKq+6NMrCIZYbTMuZTMIQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-07T14:05:53Z"
    mac: ENC[AES256_GCM,data:4T88/zZ6cz1ZlJnTAlFST0Yp9+9Oj+tBSC2xGDXJYcXDSdrVS3nqL8NgGCHpVyhXTenLv2UOwiD4RhpOaAQ/nFL+0X6WfpQ/ybr+8QXmGn22c5phDgVn57chyz29QII0QTo18kNoTTsMxEtyddDXblZ5lH3RJH980YUTSY2XBNE=,iv:aSBqPZ/AtdtJvfWe/JiHic5AD68/O0vT4/7Unn8Va3Y=,tag:2QxBWw50P2DGpOsowA8PHg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
