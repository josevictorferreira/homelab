apiVersion: ceph.rook.io/v1
kind: CephObjectStoreUser
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-user
    namespace: apps
spec:
    clusterNamespace: rook-ceph
    keys:
        - accessKeyRef:
            key: AWS_ACCESS_KEY_ID
            name: s3-credentials
          secretKeyRef:
            key: AWS_SECRET_ACCESS_KEY
            name: s3-credentials
    store: ceph-objectstore
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtUlUrOWRaVWJremV2czk3
            ejJPc0tieGd4MDI0eitVSkxPVWV0RnN4YzM4Ck96SUNmNlBmZkVmeVIvVWtHZTdV
            VDRVOC9nMFRwMVZuTHh1SWpweXcyNHMKLS0tIC9MNWJNbjZVckROUmc0WFZYL2ox
            ZTUrbmZjWHl0VEFwY2pwK1drZlFLUGcKiHby1pFVxAuwLJpXcCkApLkiHdRoQNea
            hsoVa0C6nzwCvk33OtrPXrKrdDrMt4ck9xUxO8c2BP3YfRQ4e1FWtw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBMT2hvTG1PRFMvWUs5WEk0
            aDVZRXBPTjdPV3hmMW1Vb0pVSzRxSCswSlRVCm5WN1NZZXRRMmMyKzJmS0NlZS81
            NjRNRjZYMmU3d2JFcUVVUHQzODFsZ1kKLS0tIEt2ZXpXTWhNY3NsMVh0N09rei9X
            T3pyZTdYVHZpNUlGVGZLdnVzelRjc0kKTPJRFDJz//HuDCLHS1kgyDxz/c9i7SV4
            Rf4BRm561Ie7+/lSn2Yiu/u2blaQJ4aVnWamfeSBlu7gJENG9yKs1w==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAvNGh1L1M1b2k4OEVwWHJM
            Z1htM2xYNENhdTZUbGNMRlp4WVp0bDRQN3hrCmNNL0dFM0pqb2NueTBmTWNmb0Vu
            c2NDcTd2NmN5aUJwVEZVSC9ZbWxrdlUKLS0tIGVvMHk1c0VkVTlGOG1wQnlHckFp
            UmtaL01rVTI2clo4dHlkZytUNjZGMDAK8UV1fNFW//zoC6YeJayqx0Mg45pED0EJ
            aYc9IZNn+9M+seOCSPi21O3DBDB302it+EUaVMaVjzHLFz01FWrfKA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-07T14:02:36Z"
    mac: ENC[AES256_GCM,data:Aw+7z7IJ3JEPmWx9oulgou0nbeeye/XIi7OGdvFQHalObgAUz2w8/s9vn7BKeTQXD/64bL+6oZE+91sl9xcDQswAo+1LKINaNcOEyBMiMPc7pDZ/mfDOFVCPB60jLtlMkl17F+zozC4NEfkhwo11DHLJ3fXM2CA35cH97xoV1F0=,iv:8jNBOT8HR1ityWTyzgYQyfydxYYq3KDZPBGIjrsHxXI=,tag:NrdscFtB78vJjqFp1gt9GA==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
---
apiVersion: v1
kind: Secret
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-credentials
    namespace: apps
stringData:
    AWS_ACCESS_KEY_ID: ENC[AES256_GCM,data:Ja8+sSWEJq+zdeRMLb7u9vI7LWhQt84S,iv:sPdOnTGVanUhICdPZIRviBOQTbEhk+wKRelm5Q95pKE=,tag:5jzjiwMGwokeyhB0aS3WGA==,type:str]
    AWS_SECRET_ACCESS_KEY: ENC[AES256_GCM,data:6i90LUFtX4SdP5vDxtH/Rv7wYAOMo6YxGuTBlIYLbTdVebQd1DG28WxIZy8=,iv:mnoto6Vnk0SMwc+ob/RX0ghFtDMU6sNgNiG4x2ErRLY=,tag:BwQUBiFOKTetGYTpavenKA==,type:str]
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtUlUrOWRaVWJremV2czk3
            ejJPc0tieGd4MDI0eitVSkxPVWV0RnN4YzM4Ck96SUNmNlBmZkVmeVIvVWtHZTdV
            VDRVOC9nMFRwMVZuTHh1SWpweXcyNHMKLS0tIC9MNWJNbjZVckROUmc0WFZYL2ox
            ZTUrbmZjWHl0VEFwY2pwK1drZlFLUGcKiHby1pFVxAuwLJpXcCkApLkiHdRoQNea
            hsoVa0C6nzwCvk33OtrPXrKrdDrMt4ck9xUxO8c2BP3YfRQ4e1FWtw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBMT2hvTG1PRFMvWUs5WEk0
            aDVZRXBPTjdPV3hmMW1Vb0pVSzRxSCswSlRVCm5WN1NZZXRRMmMyKzJmS0NlZS81
            NjRNRjZYMmU3d2JFcUVVUHQzODFsZ1kKLS0tIEt2ZXpXTWhNY3NsMVh0N09rei9X
            T3pyZTdYVHZpNUlGVGZLdnVzelRjc0kKTPJRFDJz//HuDCLHS1kgyDxz/c9i7SV4
            Rf4BRm561Ie7+/lSn2Yiu/u2blaQJ4aVnWamfeSBlu7gJENG9yKs1w==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAvNGh1L1M1b2k4OEVwWHJM
            Z1htM2xYNENhdTZUbGNMRlp4WVp0bDRQN3hrCmNNL0dFM0pqb2NueTBmTWNmb0Vu
            c2NDcTd2NmN5aUJwVEZVSC9ZbWxrdlUKLS0tIGVvMHk1c0VkVTlGOG1wQnlHckFp
            UmtaL01rVTI2clo4dHlkZytUNjZGMDAK8UV1fNFW//zoC6YeJayqx0Mg45pED0EJ
            aYc9IZNn+9M+seOCSPi21O3DBDB302it+EUaVMaVjzHLFz01FWrfKA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-07T14:02:36Z"
    mac: ENC[AES256_GCM,data:Aw+7z7IJ3JEPmWx9oulgou0nbeeye/XIi7OGdvFQHalObgAUz2w8/s9vn7BKeTQXD/64bL+6oZE+91sl9xcDQswAo+1LKINaNcOEyBMiMPc7pDZ/mfDOFVCPB60jLtlMkl17F+zozC4NEfkhwo11DHLJ3fXM2CA35cH97xoV1F0=,iv:8jNBOT8HR1ityWTyzgYQyfydxYYq3KDZPBGIjrsHxXI=,tag:NrdscFtB78vJjqFp1gt9GA==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
