apiVersion: ceph.rook.io/v1
kind: CephObjectStoreUser
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-user
    namespace: apps
spec:
    clusterNamespace: rook-ceph
    keys:
        - accessKeyRef:
            key: AWS_ACCESS_KEY_ID
            name: s3-credentials
          secretKeyRef:
            key: AWS_SECRET_ACCESS_KEY
            name: s3-credentials
    store: ceph-objectstore
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBJSVF2b2VTeWo0blptd244
            OWg5ZUlOYVFnWWV2ZlN4elFpUHllc2lHMUVBCjlldHMwL3VhaW1EUldDTlFjM2M2
            NitiSFFCYzNpKzZsdG9jdFZOOTNFWU0KLS0tIEtIUmNLV3pDNnk4c2NscEc4VWsv
            alFyTHRZdFR1a0dUMWhqREpaN3U5bGsKB5zTU1MxP0PfIHX5kTRUergDhIZL5B10
            bsrnwRjPd2nNodUxM+0a5KbAvPj43uxZ+W6YOhjVfEs7x9oAAyl3mw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDc2xVM3ppZFAxdE1lRWVs
            VHF4MTBFdVAvWWRjR0xFS0xYTENMT1EwT1ZjCjVRZEl5eE45UFRTaWJaUFZlME9i
            M0l6OVhZdmhNMFVYbHJjbFoweU5pYk0KLS0tIEJMWEs2S1d3bGdkbzJEZ1dSR1JX
            eEVDd2tUMXU4eGVxZFJrVnc4S2pwdzAKODYHbjJwC3iRX0I6538dypcj+EQWH1mD
            8REQPL9mO0S3o/FeAvYAdeim9xcDSN1pxVqVT0f+LFrXJyt6BI0rlQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzalQwR2RKaEdTVTBOZ1dF
            TExPRGpLSTJwS2hvSjF6Vy84b216bVZHK0c0Ckhyd1RrbWRUSWFaS3dLbFF4VVVX
            U0h5c3FkWnQ0V0FHdzN3WFR6SEFPSWsKLS0tIDR2MmE3dEZTdE5DeUswYUxxb1Fn
            ZHZDSmVrbVFUQUJncWNHRWxoUkg4eE0KKFlF3dExEn59MpcOhPlwQPDIbIiv1Tuu
            mJ1pSptVvgmVTUkzGiFZ61il91suVUPgyxOkcw2l5XRMxj82TSejNA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-04T13:46:16Z"
    mac: ENC[AES256_GCM,data:MI6QQNA11nMy1JUCDVIxP58pSDc9d3GhFPfGD+5TBdUzkzMPV/CvPxLHtIlE0oBz6m9cytOxPHlKF/9Rc77MJg6f8poZZwtpDHZrkm/94uKNIzyYH+RSdXT8hNZbH+5kwscK7HCBVBE7Vwt/UOeaMDJPlSPRcYVI+lUEfMGoBLM=,iv:dhPm0YpoAqNjAQ8a/g4ChtqHwqUYxKTnsuBV3t/CKO8=,tag:vZmKiFR0Ric/WasUQ8g83A==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
---
apiVersion: v1
kind: Secret
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-credentials
    namespace: apps
stringData:
    AWS_ACCESS_KEY_ID: ENC[AES256_GCM,data:RVmwWo5aCjjvTjTxRxPFsPMR+W0zOPrb,iv:w0Tl+qya3VGE5zRgw1s7mFZulf7Y2y0hYtifn7crGbM=,tag:8k0AM9OeaSd+IMtEfyb/9g==,type:str]
    AWS_SECRET_ACCESS_KEY: ENC[AES256_GCM,data:zmPElJTMYuBC/ra3etaLjI5Ca1ogW67q3vVqt+Msg1MxjjzcnrcNcP5kkyw=,iv:QfVpTCgtmhZtwfcFh5d1Wj5axTdVffYCwQTK26V7Fcg=,tag:hoXB8acF7oFDTYmpMBcgkQ==,type:str]
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBJSVF2b2VTeWo0blptd244
            OWg5ZUlOYVFnWWV2ZlN4elFpUHllc2lHMUVBCjlldHMwL3VhaW1EUldDTlFjM2M2
            NitiSFFCYzNpKzZsdG9jdFZOOTNFWU0KLS0tIEtIUmNLV3pDNnk4c2NscEc4VWsv
            alFyTHRZdFR1a0dUMWhqREpaN3U5bGsKB5zTU1MxP0PfIHX5kTRUergDhIZL5B10
            bsrnwRjPd2nNodUxM+0a5KbAvPj43uxZ+W6YOhjVfEs7x9oAAyl3mw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDc2xVM3ppZFAxdE1lRWVs
            VHF4MTBFdVAvWWRjR0xFS0xYTENMT1EwT1ZjCjVRZEl5eE45UFRTaWJaUFZlME9i
            M0l6OVhZdmhNMFVYbHJjbFoweU5pYk0KLS0tIEJMWEs2S1d3bGdkbzJEZ1dSR1JX
            eEVDd2tUMXU4eGVxZFJrVnc4S2pwdzAKODYHbjJwC3iRX0I6538dypcj+EQWH1mD
            8REQPL9mO0S3o/FeAvYAdeim9xcDSN1pxVqVT0f+LFrXJyt6BI0rlQ==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzalQwR2RKaEdTVTBOZ1dF
            TExPRGpLSTJwS2hvSjF6Vy84b216bVZHK0c0Ckhyd1RrbWRUSWFaS3dLbFF4VVVX
            U0h5c3FkWnQ0V0FHdzN3WFR6SEFPSWsKLS0tIDR2MmE3dEZTdE5DeUswYUxxb1Fn
            ZHZDSmVrbVFUQUJncWNHRWxoUkg4eE0KKFlF3dExEn59MpcOhPlwQPDIbIiv1Tuu
            mJ1pSptVvgmVTUkzGiFZ61il91suVUPgyxOkcw2l5XRMxj82TSejNA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-04T13:46:16Z"
    mac: ENC[AES256_GCM,data:MI6QQNA11nMy1JUCDVIxP58pSDc9d3GhFPfGD+5TBdUzkzMPV/CvPxLHtIlE0oBz6m9cytOxPHlKF/9Rc77MJg6f8poZZwtpDHZrkm/94uKNIzyYH+RSdXT8hNZbH+5kwscK7HCBVBE7Vwt/UOeaMDJPlSPRcYVI+lUEfMGoBLM=,iv:dhPm0YpoAqNjAQ8a/g4ChtqHwqUYxKTnsuBV3t/CKO8=,tag:vZmKiFR0Ric/WasUQ8g83A==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
