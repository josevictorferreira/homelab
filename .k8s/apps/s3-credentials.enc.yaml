apiVersion: ceph.rook.io/v1
kind: CephObjectStoreUser
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-user
    namespace: apps
spec:
    clusterNamespace: rook-ceph
    keys:
        - accessKeyRef:
            key: AWS_ACCESS_KEY_ID
            name: s3-credentials
          secretKeyRef:
            key: AWS_SECRET_ACCESS_KEY
            name: s3-credentials
    store: ceph-objectstore
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBFTGdwKzYrZGdwM2dEeWZE
            bVM4cW5kSGd2OHMzSVhCWGRBcElPb0pWMVZvCm8yTDlhVkE1c3Q0aUFDT2hLbFdl
            MlVoRHdDZmxPUGZoZ3hvZjQ5cDhiMkUKLS0tIGVhUktURmVLakdGcXBsb21JM0hM
            WHRJVzdod2hwRzV2TDJUSFlOZVVZUkUKk0HT37bnJtdach1zZrrjVGkUlWyPmEPV
            J/87iR6Bb/ZyI5BLtkVTu8eywnbDRHoBg0/lixZCIqPiAGxpGDmySw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA1NzRmUmRoZTlzWEFEUnNH
            dExoNUYvZkg4UUlKOExKNUtZOUgwWXFhQXpBClkyWHBxQXJtN2d3TGhDeGJIcENQ
            eURQZXNMS2pscE83V3h4bFBTa2R5OW8KLS0tIGpISy9yRW9iMGd0TWYvQnNySzRa
            TmtXK0MySXRXZ093SHdHNTJWcmg1K0UKQl6xi8OdRYYH8MRI1988HAJga/A2pQJV
            nsInrH4IxCNDV3bJYAdd1vmR/RlcmqCjZc3ckt6grw2CnC0/jv8wNw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBTbi9NWUgwU09HMDVZK1Vu
            T0FxNS96dFN5UWlCVFZLL01icGt0UlZLNFZvCnZqSE5VQ1M5dnhCcFZpTGIwdm5Y
            SFpnYjY1Uk1pS1NQZkprQ2pWRjlOVGsKLS0tIFpsVkRwZWZnM212VE9zYnIxdXJq
            eFp2bmhrSldpeTlEQlJxYmZ3V1pFa3cKRS/BSdoGygqXRmGetN/+wiVeWWudJu4d
            Btp30wvqiQmYBo2q+Vy6LfJbLSHM57wDi2vWq309W46ChIEb5IkvLA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-15T21:48:56Z"
    mac: ENC[AES256_GCM,data:EpmEhsDk2WpiATSb6eoLf1yUO0daBuUkl0jKX3v9DaUHzP6zh3+sACT1anCICkN5NC67rxAQ7/lksZrV0gCOnyeFMBLPovBm6mqCzDP1LmId+VPzU5XqYr+Z16DpdDs8HJbpr6aEfdRzWamNMR4isJbG4h4bulJPXxFzgsHz+r4=,iv:z3dA4BlTHnFINQ8BBzqEygn1B4EvJxiGTa9Rfh2HmSI=,tag:n5T41q634PLNvVmMzDB+Lw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-credentials
    namespace: apps
stringData:
    AWS_ACCESS_KEY_ID: ENC[AES256_GCM,data:ioYeqkaTpNOXfEmEevCOq/6pBeYAEUfc,iv:W3UK3opIj29zmqz2vU1nXvC20Hj8lfW1rvJcwS/Weio=,tag:4wTqn951RqG5wpn1BFDKHw==,type:str]
    AWS_SECRET_ACCESS_KEY: ENC[AES256_GCM,data:Vc71R0bcOpJcs4lFTetVhW5wHZE61IBiApgmJjl0YheUt/qVPpi54l6ewIw=,iv:Fg7ri4/p9N/2vJ7ywj2KunypHekGqIniXS8Gtq23iPg=,tag:bY5CHnhZt7E5wN1MxxSsYw==,type:str]
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBFTGdwKzYrZGdwM2dEeWZE
            bVM4cW5kSGd2OHMzSVhCWGRBcElPb0pWMVZvCm8yTDlhVkE1c3Q0aUFDT2hLbFdl
            MlVoRHdDZmxPUGZoZ3hvZjQ5cDhiMkUKLS0tIGVhUktURmVLakdGcXBsb21JM0hM
            WHRJVzdod2hwRzV2TDJUSFlOZVVZUkUKk0HT37bnJtdach1zZrrjVGkUlWyPmEPV
            J/87iR6Bb/ZyI5BLtkVTu8eywnbDRHoBg0/lixZCIqPiAGxpGDmySw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA1NzRmUmRoZTlzWEFEUnNH
            dExoNUYvZkg4UUlKOExKNUtZOUgwWXFhQXpBClkyWHBxQXJtN2d3TGhDeGJIcENQ
            eURQZXNMS2pscE83V3h4bFBTa2R5OW8KLS0tIGpISy9yRW9iMGd0TWYvQnNySzRa
            TmtXK0MySXRXZ093SHdHNTJWcmg1K0UKQl6xi8OdRYYH8MRI1988HAJga/A2pQJV
            nsInrH4IxCNDV3bJYAdd1vmR/RlcmqCjZc3ckt6grw2CnC0/jv8wNw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBTbi9NWUgwU09HMDVZK1Vu
            T0FxNS96dFN5UWlCVFZLL01icGt0UlZLNFZvCnZqSE5VQ1M5dnhCcFZpTGIwdm5Y
            SFpnYjY1Uk1pS1NQZkprQ2pWRjlOVGsKLS0tIFpsVkRwZWZnM212VE9zYnIxdXJq
            eFp2bmhrSldpeTlEQlJxYmZ3V1pFa3cKRS/BSdoGygqXRmGetN/+wiVeWWudJu4d
            Btp30wvqiQmYBo2q+Vy6LfJbLSHM57wDi2vWq309W46ChIEb5IkvLA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-15T21:48:56Z"
    mac: ENC[AES256_GCM,data:EpmEhsDk2WpiATSb6eoLf1yUO0daBuUkl0jKX3v9DaUHzP6zh3+sACT1anCICkN5NC67rxAQ7/lksZrV0gCOnyeFMBLPovBm6mqCzDP1LmId+VPzU5XqYr+Z16DpdDs8HJbpr6aEfdRzWamNMR4isJbG4h4bulJPXxFzgsHz+r4=,iv:z3dA4BlTHnFINQ8BBzqEygn1B4EvJxiGTa9Rfh2HmSI=,tag:n5T41q634PLNvVmMzDB+Lw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
