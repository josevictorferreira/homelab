apiVersion: ceph.rook.io/v1
kind: CephObjectStoreUser
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-user
    namespace: apps
spec:
    clusterNamespace: rook-ceph
    keys:
        - accessKeyRef:
            key: AWS_ACCESS_KEY_ID
            name: s3-credentials
          secretKeyRef:
            key: AWS_SECRET_ACCESS_KEY
            name: s3-credentials
    store: ceph-objectstore
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBOVJIRlUwZ3pHRnUza2lQ
            T1dJTnFZVWViYnNzbVFKL0FpYzhJVVZYa213ClorN2tjZHJLbE16ZmJoeTB3SHR5
            aXNEdG5abEVrZW9qK3Fmbk9VNUJ5UzQKLS0tIElKaDlPWmRxK3BFOUR0TzFraFNG
            YWxwbzlJU2Q4aW1QNE5PSnpVbEdqMGcK0bx6j+UIcaQJexlyjGp2Cq/glA5s0Tvq
            3rjPcXxfFhz+W0Sl6nDWjaD8LtkxwD9dRf86xrpGxB/FXAPaKQOeNg==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWQ0VBVkpibVZ5SGFWV1h5
            eEoxZ0pIcUF1eDNWVzNVTnRwZU90WTRzRFhNCmlLN28vRVQ3RjFuWlJRSXpsRWQ5
            Wk1FWUF1UnlHL1RjTjh4bEtSbk9uL3MKLS0tIEZnL2t2MDI3Wjh2b1FaVnJkNVYw
            V3JmdjVHRm0xdlpqZEhGSmZlRm01b1UKAWKwxtcbpMn2t+8lM5TPUOkQXLHYNOQY
            wo88a1kYIzJVOw1RvbeQpMlbkYqM+LhAeRYCBZlrzAiA9W2LsusnDg==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA3R2srTTNqK3VENmgwL0xS
            Tzczalk4UExLanBOVldnZzhGS3lLckNOWUJjCml5UmMydHhpVGNCNDkvRW45elJN
            YXkrRWdhaVE4Y0t1UGdxTjBSZXRHYnMKLS0tIEJFK3g3aUxFaDFzK3NyYXdDL2JG
            TndleTJDRTZidDdzNk0yWU4zY0N2WTQK05bmJyv3x2a9eU1Vj+at21YowK9sPLsB
            C+k2fwwyQvC7qWCZJfdUxOomEVgq8yUYR+ayOfnN3MTt6nDzwSFjiw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-09T01:15:24Z"
    mac: ENC[AES256_GCM,data:8jpuSQY3oUuH4uZ0yoiPN8ZheppOEoquojfdwCZGEft/+hSmFyk5PfKYriDshU4peP2kOgd14WvKRcz6+HaFe1hczyX1+Bxd5RVagvUhZr6yHwfoLTFh2WC4dsH7v9H+ABAVjgzafOrQsGA8p/1doH60OzNUBwzK7puUioG68os=,iv:BiypeZg69JqR9pnhHwUBOHX6w8NV7WqI0ae6sabrzKg=,tag:codBFLnuY5EH+gBKCUKBPg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Secret
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    name: s3-credentials
    namespace: apps
stringData:
    AWS_ACCESS_KEY_ID: ENC[AES256_GCM,data:v3RFTXkjqVV81JZ3/LvdXQh5BE+0Wg6/,iv:LkGyqpcoBL1p4BnkEZj0GlbE0OwpqheR+vJffdJccb4=,tag:M/YEGSQpWxtKxJa3DQrtuA==,type:str]
    AWS_SECRET_ACCESS_KEY: ENC[AES256_GCM,data:fiU4iyvOe2ppqHBijm7qejMnQMx0HrxaNi/VYal7c5x0QnyMexZgItOsqr0=,iv:SDWuq0Kun+852RqonyUXphBVye/s1cWYhNrhcvS0N2I=,tag:xUB+p7kLsXzry2lDXoZDoA==,type:str]
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBOVJIRlUwZ3pHRnUza2lQ
            T1dJTnFZVWViYnNzbVFKL0FpYzhJVVZYa213ClorN2tjZHJLbE16ZmJoeTB3SHR5
            aXNEdG5abEVrZW9qK3Fmbk9VNUJ5UzQKLS0tIElKaDlPWmRxK3BFOUR0TzFraFNG
            YWxwbzlJU2Q4aW1QNE5PSnpVbEdqMGcK0bx6j+UIcaQJexlyjGp2Cq/glA5s0Tvq
            3rjPcXxfFhz+W0Sl6nDWjaD8LtkxwD9dRf86xrpGxB/FXAPaKQOeNg==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWQ0VBVkpibVZ5SGFWV1h5
            eEoxZ0pIcUF1eDNWVzNVTnRwZU90WTRzRFhNCmlLN28vRVQ3RjFuWlJRSXpsRWQ5
            Wk1FWUF1UnlHL1RjTjh4bEtSbk9uL3MKLS0tIEZnL2t2MDI3Wjh2b1FaVnJkNVYw
            V3JmdjVHRm0xdlpqZEhGSmZlRm01b1UKAWKwxtcbpMn2t+8lM5TPUOkQXLHYNOQY
            wo88a1kYIzJVOw1RvbeQpMlbkYqM+LhAeRYCBZlrzAiA9W2LsusnDg==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA3R2srTTNqK3VENmgwL0xS
            Tzczalk4UExLanBOVldnZzhGS3lLckNOWUJjCml5UmMydHhpVGNCNDkvRW45elJN
            YXkrRWdhaVE4Y0t1UGdxTjBSZXRHYnMKLS0tIEJFK3g3aUxFaDFzK3NyYXdDL2JG
            TndleTJDRTZidDdzNk0yWU4zY0N2WTQK05bmJyv3x2a9eU1Vj+at21YowK9sPLsB
            C+k2fwwyQvC7qWCZJfdUxOomEVgq8yUYR+ayOfnN3MTt6nDzwSFjiw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-09T01:15:24Z"
    mac: ENC[AES256_GCM,data:8jpuSQY3oUuH4uZ0yoiPN8ZheppOEoquojfdwCZGEft/+hSmFyk5PfKYriDshU4peP2kOgd14WvKRcz6+HaFe1hczyX1+Bxd5RVagvUhZr6yHwfoLTFh2WC4dsH7v9H+ABAVjgzafOrQsGA8p/1doH60OzNUBwzK7puUioG68os=,iv:BiypeZg69JqR9pnhHwUBOHX6w8NV7WqI0ae6sabrzKg=,tag:codBFLnuY5EH+gBKCUKBPg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
