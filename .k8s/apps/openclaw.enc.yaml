apiVersion: apps/v1
kind: Deployment
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/controller: main
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw
    namespace: apps
spec:
    replicas: 1
    revisionHistoryLimit: 3
    selector:
        matchLabels:
            app.kubernetes.io/controller: main
            app.kubernetes.io/instance: openclaw
            app.kubernetes.io/name: openclaw
    strategy:
        type: Recreate
    template:
        metadata:
            annotations:
                checksum/configMaps: e0ed899177b4f11ed84522155426eff66b9dc05665bd1253357415bb08a606f2
            labels:
                app.kubernetes.io/controller: main
                app.kubernetes.io/instance: openclaw
                app.kubernetes.io/name: openclaw
        spec:
            automountServiceAccountToken: true
            containers:
                - command:
                    - sh
                    - -c
                    - |
                      echo "Installing matrix plugin deps into extension dir..."
                      cd /app/extensions/matrix
                      # Strip workspace: protocol deps that npm can't handle, using node for valid JSON
                      node -e "
                        const fs = require('fs');
                        const pkg = JSON.parse(fs.readFileSync('package.json', 'utf8'));
                        delete pkg.devDependencies;
                        fs.writeFileSync('package.json', JSON.stringify(pkg, null, 2));
                      "
                      npm install --omit=dev --no-package-lock --ignore-scripts --legacy-peer-deps 2>&1 || echo "WARN: npm install in extension dir failed"
                      echo "Starting gateway..."
                      cd /app
                      exec node dist/index.js gateway run --allow-unconfigured
                  env:
                    - name: HOME
                      value: /home/node
                    - name: XDG_CONFIG_HOME
                      value: /home/node/.config
                  envFrom:
                    - secretRef:
                        name: openclaw-secrets
                  image: ghcr.io/openclaw/openclaw:latest@sha256:a02b8193cc9d985dce3479eb1986a326f1e28253275b1c43491ac7923d6167e5
                  imagePullPolicy: IfNotPresent
                  name: main
                  ports:
                    - containerPort: 18789
                      name: http
                      protocol: TCP
                  securityContext:
                    runAsGroup: 0
                    runAsUser: 0
                  volumeMounts:
                    - mountPath: /config/openclaw.json
                      name: config
                      readOnly: true
                      subPath: openclaw.json
                    - mountPath: /home/node
                      name: main
                - env:
                    - name: TS_ACCEPT_DNS
                      value: "true"
                    - name: TS_AUTHKEY
                      valueFrom:
                        secretKeyRef:
                            key: TS_AUTHKEY
                            name: openclaw-secrets
                    - name: TS_AUTH_ONCE
                      value: "true"
                    - name: TS_HOSTNAME
                      value: openclaw
                    - name: TS_KUBE_SECRET
                      value: ""
                    - name: TS_STATE_DIR
                      value: /var/lib/tailscale
                    - name: TS_USERSPACE
                      value: "false"
                  image: tailscale/tailscale:latest
                  name: tailscale
                  securityContext:
                    capabilities:
                        add:
                            - NET_ADMIN
                            - NET_RAW
                    runAsGroup: 0
                    runAsUser: 0
                  volumeMounts:
                    - mountPath: /config/openclaw.json
                      name: config
                      readOnly: true
                      subPath: openclaw.json
                    - mountPath: /dev/net/tun
                      name: dev-tun
                    - mountPath: /home/node
                      name: main
                    - mountPath: /var/lib/tailscale
                      name: tailscale-state
            dnsPolicy: ClusterFirst
            enableServiceLinks: false
            hostIPC: false
            hostNetwork: false
            hostPID: false
            initContainers:
                - command:
                    - sh
                    - -c
                    - mkdir -p /home/node/.openclaw && cp /config/openclaw.json /home/node/.openclaw/openclaw.json && rm -rf /home/node/.openclaw/extensions /home/node/.config/openclaw/extensions
                  image: busybox:latest
                  name: copy-config
                  securityContext:
                    runAsGroup: 0
                    runAsUser: 0
                  volumeMounts:
                    - mountPath: /config/openclaw.json
                      name: config
                      readOnly: true
                      subPath: openclaw.json
                    - mountPath: /home/node
                      name: main
            serviceAccountName: default
            volumes:
                - configMap:
                    items:
                        - key: openclaw.json
                          path: openclaw.json
                    name: openclaw
                  name: config
                - hostPath:
                    path: /dev/net/tun
                  name: dev-tun
                - name: main
                  persistentVolumeClaim:
                    claimName: openclaw-main
                - name: tailscale-state
                  persistentVolumeClaim:
                    claimName: openclaw-tailscale-state
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWZTNYeVVoUU84WjZtVE5a
            VCs1SkpxVElLd2JPdWcwb2JsZzZxdnZnVno4Cm9sd1RVQ0hnRWk5aVhqUlVoMjNO
            TjNtczY5aE9uMTRUVTNaK0VWam5GRjgKLS0tIFlXbXNtL2xyRWZYQjJzNnBRNXdV
            c0k4bjgvVEMxbWkrYUg1OVVqdlpKRTgKx/1Z3eJ5mZ5NIvQJpJBPHZX3AedWuvTx
            ixw0wgbOL2s5vk7+D7H3PzstNVul16Wa2f+BTMYwIMYpb9jTa3sB6w==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB3bjc3UXEzR3FoK2pvS1FS
            N0NQUXJDMHpvQXhXdEFCWG5WOEh3OHVEOWhzCk5oaWpqbFRBU2hnRTM3ais2WmFo
            OFpzb1o1U1dKTHNVd3FObjlUMC8zYVUKLS0tIGNCL1NNblE4dW5HbkFjdW51bjVk
            WTN4RHVaWmM2b3B6RHRVd3lFNVRVcnMK10zP6N7pd4g5+vdsAYGLRKA2HQLub/UL
            Vae6sARVyE8XwximYOcho5rreXsjILIulrhIPP+VAg+GvR/THV/Idw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZTkVGUmFJdjV3Nmc2Q3hs
            bDAzbmYxb2p6aUwyRUl1dmhOVkVTaFVSbEM4CkVuZlBGZnFOSUxGQ3IvQ2hOZUYx
            cmg0cDNxRUFhSnlGa21IM0p3WloxU2sKLS0tIDJDenltbW1ZVm0rR0JMTDRIaGlL
            QWc1NG1SSjcxcW14dngvdXdjMzlBN28KFMvKgaYvuoj5W7MGbI3SfLUFTH7PpTko
            auX4pYtKocUbzebD83JnnSvfun61mhzpkE8EaG8eDcWpN4jz59x+BA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T15:19:16Z"
    mac: ENC[AES256_GCM,data:/N1E1szvFcoNR/geQ8dTSQIPSoeFZp88ssZ4HyyaodG8hBKpBE0GT3qTpSoXXAXOBcIQgkvy5YdF9wudY6ugus+YtpfNNciXQR1U7NjIEGeFVBg4h/+Fm9xmYmimusHdGmeuMlmU1uQaxHnl0xZ+sYbDN/sjzfQju1qy9P4ro1s=,iv:Wyv9tZySeTJB9uSgMQZsOWimkOKxv7HdVT4rE+4VLK8=,tag:HnvqWc6Xeu9mvDnf1qoeqw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
data:
    openclaw.json: ENC[AES256_GCM,data:/6rbEZ6T+0icz9XiP/SucHtIvDp3LGWlGsYIB5VS38763ovXOLsgtdQXLuUAdtIx2LUm1hsmdcyc1flaAeKohSoLgz3FJMyuZAm/I4cedQE+Ol3HF9FjD+Q9pPB+pL4UP8C1Tpswqv3B7KDoNlMzCnIc59N4eGFtjkfNJcIB/8/QS/xcYFszPqOlhF1AWgBpuHGD3TsNCMHF9LBJi/XtUk63X5KwWIS+rOjq5AHuEOOzmLQgcFYdGgIX+7REQtPxorRnYh+qIqPUGJw13TbZ6eJQ6US4UW7ito/YyKjwWzgnPLGUVY8hR9S/87GTZldODdodf2v4WCXgnwUwtER0k2W/z6EysknA2eqXlDqtAthwBCQPW68QpzGvoohexGboM/a5DNRcILWOgDlwsBcXS7bJ39J1Zzt6QvcDFmWQiKh/OXGxVK/o61+E8NAIqknIsftzpiCfzc+sCzLF7PQanNL6I3Fg6dmGC+E489O01oZJpnR4GYw/ClGfqOP7XIwR0n83mePcKB4jntYdk79gHVAWr6lY2TqxK9ANfjew0mgeLpbasUJwM7QdgqTQymlfbUU1SpWR2bZiT3mIEyrW1z9HquSoK2gxASlhxGajZzwDyBJvm+iI4Z5bXK5bBjmYY+Z7iFZYNuIiW+GfGpy1cJshVkgHigV0w/VPunEM6E4Z+qiX8cEUH1DNXcJg312APMjADwRvEKIUBUhFJWBvpyqiQT1kLHv6MPEFSujp1AS9sFMXPKXnXz0IDFdq/QPwUk34yUwex3cqJtFC3XcHHDM8z19nD5bAU31SpFhSxXhCe8RYeDiYj94PE5eawDsokNtzxTRj0C5hY8hM5HRrBb1SLlQvQq3jfnYugxsjBaUsWVTsn0fYKFOEJYIrFxAHnRF+gq+a3GgvvVxatspl+oR4kuiFnwbRK2aYVaedSnNncsNc+TimEtjHeyHPGZR1hg1J593jIcpCxPLkevLYsHbtYPiN0yXslfJ9ftvCmSe89UL2ovvw3EoJD5sitMP1Ue8j9BBWdGyybTB2hUgoO/TzpNEmJvAREzzOeIzDVXu0SALlHRYrd+LKOoq0/BH+/h6/77clpBeMUpCoSLzONOKpudxPnMHJzfaI0N4M6RULVBzaNx+1hXNH9sluUtGlXJlYMUHuY/PB0aQadtwr4UVfjil0WtwvVwtcD3Z05OfZ8P/9EpXyj02iQ3VyYhx+uEZLHrKrJutR05lqe++Gn6IONXSqrLpryW6sCiWt6g5hEDOyfM3djm2C2De+42B6pv+74fw8pqeG6OjbnnMDG3K0+ZgoQPkpcMQu+7EsLxA7yjrgRaJm1OZwFT4aRZHfmTO6G2kq/uZaSUbTkvemafnOT8Asy1tTtnhAbxcWLMk3sYMIlpfccYKb++meSCc+Z9OXdXb6Eq9Y61llX1z5IaWPXs5opRXw+D2sRapxCXUDEBy/p1MzDc8Dp9DtG+2vImzv4vTZbg2y+A3u/O4PNv99+9BX/uikzcvO70o/oJLG93cQIGiYz/Zh5gQYT/dHmqV3CnVsqMh+B86vfYzyLfC4xNUC6bAGxOu0XLHIoajZrcTKjbyYBgQLB1+gSZGV,iv:iR8P156i4Xxck7uZ0W0k8p7IGzSoT+9U+4QKBow+qQQ=,tag:6qOmVgKLnMXe66vOveNByA==,type:str]
kind: ConfigMap
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw
    namespace: apps
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWZTNYeVVoUU84WjZtVE5a
            VCs1SkpxVElLd2JPdWcwb2JsZzZxdnZnVno4Cm9sd1RVQ0hnRWk5aVhqUlVoMjNO
            TjNtczY5aE9uMTRUVTNaK0VWam5GRjgKLS0tIFlXbXNtL2xyRWZYQjJzNnBRNXdV
            c0k4bjgvVEMxbWkrYUg1OVVqdlpKRTgKx/1Z3eJ5mZ5NIvQJpJBPHZX3AedWuvTx
            ixw0wgbOL2s5vk7+D7H3PzstNVul16Wa2f+BTMYwIMYpb9jTa3sB6w==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB3bjc3UXEzR3FoK2pvS1FS
            N0NQUXJDMHpvQXhXdEFCWG5WOEh3OHVEOWhzCk5oaWpqbFRBU2hnRTM3ais2WmFo
            OFpzb1o1U1dKTHNVd3FObjlUMC8zYVUKLS0tIGNCL1NNblE4dW5HbkFjdW51bjVk
            WTN4RHVaWmM2b3B6RHRVd3lFNVRVcnMK10zP6N7pd4g5+vdsAYGLRKA2HQLub/UL
            Vae6sARVyE8XwximYOcho5rreXsjILIulrhIPP+VAg+GvR/THV/Idw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZTkVGUmFJdjV3Nmc2Q3hs
            bDAzbmYxb2p6aUwyRUl1dmhOVkVTaFVSbEM4CkVuZlBGZnFOSUxGQ3IvQ2hOZUYx
            cmg0cDNxRUFhSnlGa21IM0p3WloxU2sKLS0tIDJDenltbW1ZVm0rR0JMTDRIaGlL
            QWc1NG1SSjcxcW14dngvdXdjMzlBN28KFMvKgaYvuoj5W7MGbI3SfLUFTH7PpTko
            auX4pYtKocUbzebD83JnnSvfun61mhzpkE8EaG8eDcWpN4jz59x+BA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T15:19:16Z"
    mac: ENC[AES256_GCM,data:/N1E1szvFcoNR/geQ8dTSQIPSoeFZp88ssZ4HyyaodG8hBKpBE0GT3qTpSoXXAXOBcIQgkvy5YdF9wudY6ugus+YtpfNNciXQR1U7NjIEGeFVBg4h/+Fm9xmYmimusHdGmeuMlmU1uQaxHnl0xZ+sYbDN/sjzfQju1qy9P4ro1s=,iv:Wyv9tZySeTJB9uSgMQZsOWimkOKxv7HdVT4rE+4VLK8=,tag:HnvqWc6Xeu9mvDnf1qoeqw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw-main
    namespace: apps
spec:
    accessModes:
        - ReadWriteOnce
    resources:
        requests:
            storage: 10Gi
    storageClassName: rook-ceph-block
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWZTNYeVVoUU84WjZtVE5a
            VCs1SkpxVElLd2JPdWcwb2JsZzZxdnZnVno4Cm9sd1RVQ0hnRWk5aVhqUlVoMjNO
            TjNtczY5aE9uMTRUVTNaK0VWam5GRjgKLS0tIFlXbXNtL2xyRWZYQjJzNnBRNXdV
            c0k4bjgvVEMxbWkrYUg1OVVqdlpKRTgKx/1Z3eJ5mZ5NIvQJpJBPHZX3AedWuvTx
            ixw0wgbOL2s5vk7+D7H3PzstNVul16Wa2f+BTMYwIMYpb9jTa3sB6w==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB3bjc3UXEzR3FoK2pvS1FS
            N0NQUXJDMHpvQXhXdEFCWG5WOEh3OHVEOWhzCk5oaWpqbFRBU2hnRTM3ais2WmFo
            OFpzb1o1U1dKTHNVd3FObjlUMC8zYVUKLS0tIGNCL1NNblE4dW5HbkFjdW51bjVk
            WTN4RHVaWmM2b3B6RHRVd3lFNVRVcnMK10zP6N7pd4g5+vdsAYGLRKA2HQLub/UL
            Vae6sARVyE8XwximYOcho5rreXsjILIulrhIPP+VAg+GvR/THV/Idw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZTkVGUmFJdjV3Nmc2Q3hs
            bDAzbmYxb2p6aUwyRUl1dmhOVkVTaFVSbEM4CkVuZlBGZnFOSUxGQ3IvQ2hOZUYx
            cmg0cDNxRUFhSnlGa21IM0p3WloxU2sKLS0tIDJDenltbW1ZVm0rR0JMTDRIaGlL
            QWc1NG1SSjcxcW14dngvdXdjMzlBN28KFMvKgaYvuoj5W7MGbI3SfLUFTH7PpTko
            auX4pYtKocUbzebD83JnnSvfun61mhzpkE8EaG8eDcWpN4jz59x+BA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T15:19:16Z"
    mac: ENC[AES256_GCM,data:/N1E1szvFcoNR/geQ8dTSQIPSoeFZp88ssZ4HyyaodG8hBKpBE0GT3qTpSoXXAXOBcIQgkvy5YdF9wudY6ugus+YtpfNNciXQR1U7NjIEGeFVBg4h/+Fm9xmYmimusHdGmeuMlmU1uQaxHnl0xZ+sYbDN/sjzfQju1qy9P4ro1s=,iv:Wyv9tZySeTJB9uSgMQZsOWimkOKxv7HdVT4rE+4VLK8=,tag:HnvqWc6Xeu9mvDnf1qoeqw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw-tailscale-state
    namespace: apps
spec:
    accessModes:
        - ReadWriteOnce
    resources:
        requests:
            storage: 1Gi
    storageClassName: rook-ceph-block
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWZTNYeVVoUU84WjZtVE5a
            VCs1SkpxVElLd2JPdWcwb2JsZzZxdnZnVno4Cm9sd1RVQ0hnRWk5aVhqUlVoMjNO
            TjNtczY5aE9uMTRUVTNaK0VWam5GRjgKLS0tIFlXbXNtL2xyRWZYQjJzNnBRNXdV
            c0k4bjgvVEMxbWkrYUg1OVVqdlpKRTgKx/1Z3eJ5mZ5NIvQJpJBPHZX3AedWuvTx
            ixw0wgbOL2s5vk7+D7H3PzstNVul16Wa2f+BTMYwIMYpb9jTa3sB6w==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB3bjc3UXEzR3FoK2pvS1FS
            N0NQUXJDMHpvQXhXdEFCWG5WOEh3OHVEOWhzCk5oaWpqbFRBU2hnRTM3ais2WmFo
            OFpzb1o1U1dKTHNVd3FObjlUMC8zYVUKLS0tIGNCL1NNblE4dW5HbkFjdW51bjVk
            WTN4RHVaWmM2b3B6RHRVd3lFNVRVcnMK10zP6N7pd4g5+vdsAYGLRKA2HQLub/UL
            Vae6sARVyE8XwximYOcho5rreXsjILIulrhIPP+VAg+GvR/THV/Idw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZTkVGUmFJdjV3Nmc2Q3hs
            bDAzbmYxb2p6aUwyRUl1dmhOVkVTaFVSbEM4CkVuZlBGZnFOSUxGQ3IvQ2hOZUYx
            cmg0cDNxRUFhSnlGa21IM0p3WloxU2sKLS0tIDJDenltbW1ZVm0rR0JMTDRIaGlL
            QWc1NG1SSjcxcW14dngvdXdjMzlBN28KFMvKgaYvuoj5W7MGbI3SfLUFTH7PpTko
            auX4pYtKocUbzebD83JnnSvfun61mhzpkE8EaG8eDcWpN4jz59x+BA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T15:19:16Z"
    mac: ENC[AES256_GCM,data:/N1E1szvFcoNR/geQ8dTSQIPSoeFZp88ssZ4HyyaodG8hBKpBE0GT3qTpSoXXAXOBcIQgkvy5YdF9wudY6ugus+YtpfNNciXQR1U7NjIEGeFVBg4h/+Fm9xmYmimusHdGmeuMlmU1uQaxHnl0xZ+sYbDN/sjzfQju1qy9P4ro1s=,iv:Wyv9tZySeTJB9uSgMQZsOWimkOKxv7HdVT4rE+4VLK8=,tag:HnvqWc6Xeu9mvDnf1qoeqw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Service
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
        lbipam.cilium.io/ips: 10.10.10.140
        lbipam.cilium.io/sharing-key: openclaw
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        app.kubernetes.io/service: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw
    namespace: apps
spec:
    ports:
        - name: http
          port: 18789
          protocol: TCP
          targetPort: 18789
    selector:
        app.kubernetes.io/controller: main
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/name: openclaw
    type: LoadBalancer
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWZTNYeVVoUU84WjZtVE5a
            VCs1SkpxVElLd2JPdWcwb2JsZzZxdnZnVno4Cm9sd1RVQ0hnRWk5aVhqUlVoMjNO
            TjNtczY5aE9uMTRUVTNaK0VWam5GRjgKLS0tIFlXbXNtL2xyRWZYQjJzNnBRNXdV
            c0k4bjgvVEMxbWkrYUg1OVVqdlpKRTgKx/1Z3eJ5mZ5NIvQJpJBPHZX3AedWuvTx
            ixw0wgbOL2s5vk7+D7H3PzstNVul16Wa2f+BTMYwIMYpb9jTa3sB6w==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB3bjc3UXEzR3FoK2pvS1FS
            N0NQUXJDMHpvQXhXdEFCWG5WOEh3OHVEOWhzCk5oaWpqbFRBU2hnRTM3ais2WmFo
            OFpzb1o1U1dKTHNVd3FObjlUMC8zYVUKLS0tIGNCL1NNblE4dW5HbkFjdW51bjVk
            WTN4RHVaWmM2b3B6RHRVd3lFNVRVcnMK10zP6N7pd4g5+vdsAYGLRKA2HQLub/UL
            Vae6sARVyE8XwximYOcho5rreXsjILIulrhIPP+VAg+GvR/THV/Idw==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZTkVGUmFJdjV3Nmc2Q3hs
            bDAzbmYxb2p6aUwyRUl1dmhOVkVTaFVSbEM4CkVuZlBGZnFOSUxGQ3IvQ2hOZUYx
            cmg0cDNxRUFhSnlGa21IM0p3WloxU2sKLS0tIDJDenltbW1ZVm0rR0JMTDRIaGlL
            QWc1NG1SSjcxcW14dngvdXdjMzlBN28KFMvKgaYvuoj5W7MGbI3SfLUFTH7PpTko
            auX4pYtKocUbzebD83JnnSvfun61mhzpkE8EaG8eDcWpN4jz59x+BA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T15:19:16Z"
    mac: ENC[AES256_GCM,data:/N1E1szvFcoNR/geQ8dTSQIPSoeFZp88ssZ4HyyaodG8hBKpBE0GT3qTpSoXXAXOBcIQgkvy5YdF9wudY6ugus+YtpfNNciXQR1U7NjIEGeFVBg4h/+Fm9xmYmimusHdGmeuMlmU1uQaxHnl0xZ+sYbDN/sjzfQju1qy9P4ro1s=,iv:Wyv9tZySeTJB9uSgMQZsOWimkOKxv7HdVT4rE+4VLK8=,tag:HnvqWc6Xeu9mvDnf1qoeqw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
