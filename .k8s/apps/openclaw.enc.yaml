apiVersion: apps/v1
kind: Deployment
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/controller: main
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw
    namespace: apps
spec:
    replicas: 1
    revisionHistoryLimit: 3
    selector:
        matchLabels:
            app.kubernetes.io/controller: main
            app.kubernetes.io/instance: openclaw
            app.kubernetes.io/name: openclaw
    strategy:
        type: Recreate
    template:
        metadata:
            annotations:
                checksum/configMaps: 6d2cfd3a666be91edc8fd11ecbd00bc280c31d5c702c6e60804ba82ca9e07266
            labels:
                app.kubernetes.io/controller: main
                app.kubernetes.io/instance: openclaw
                app.kubernetes.io/name: openclaw
        spec:
            automountServiceAccountToken: true
            containers:
                - command:
                    - sh
                    - -c
                    - |
                      set -e

                      PLUGIN_DIR="$HOME/.config/openclaw/extensions/matrix"

                      # Install matrix plugin if not already present
                      if [ ! -f "$PLUGIN_DIR/openclaw.plugin.json" ] || \
                         [ ! -d "$PLUGIN_DIR/node_modules" ]; then
                        echo "Installing matrix plugin from bundled source..."
                        node dist/index.js plugins install ./extensions/matrix 2>&1 || {
                          echo "CLI install failed, trying manual install..."
                          rm -rf "$PLUGIN_DIR"
                          mkdir -p "$PLUGIN_DIR"
                          cp -r /app/extensions/matrix/* "$PLUGIN_DIR/"
                          cd "$PLUGIN_DIR"
                          sed -i '/"devDependencies"/,/}/d' package.json
                          sed -i ':a;N;$!ba;s/,\n}/\n}/g' package.json
                          pnpm install --no-frozen-lockfile 2>&1
                        }
                        echo "Matrix plugin installed."
                      else
                        echo "Matrix plugin already installed."
                      fi

                      # Fix config issues and start gateway
                      node dist/index.js doctor --fix 2>&1 || true
                      exec node dist/index.js gateway run --allow-unconfigured
                  env:
                    - name: HOME
                      value: /home/node
                    - name: XDG_CONFIG_HOME
                      value: /home/node/.config
                  envFrom:
                    - secretRef:
                        name: openclaw-secrets
                  image: ghcr.io/openclaw/openclaw:latest@sha256:a02b8193cc9d985dce3479eb1986a326f1e28253275b1c43491ac7923d6167e5
                  imagePullPolicy: IfNotPresent
                  name: main
                  ports:
                    - containerPort: 18789
                      name: http
                      protocol: TCP
                  securityContext:
                    runAsGroup: 0
                    runAsUser: 0
                  volumeMounts:
                    - mountPath: /config/openclaw.json
                      name: config
                      readOnly: true
                      subPath: openclaw.json
                    - mountPath: /home/node
                      name: main
                - env:
                    - name: TS_ACCEPT_DNS
                      value: "true"
                    - name: TS_AUTHKEY
                      valueFrom:
                        secretKeyRef:
                            key: TS_AUTHKEY
                            name: openclaw-secrets
                    - name: TS_AUTH_ONCE
                      value: "true"
                    - name: TS_HOSTNAME
                      value: openclaw
                    - name: TS_KUBE_SECRET
                      value: ""
                    - name: TS_STATE_DIR
                      value: /var/lib/tailscale
                    - name: TS_USERSPACE
                      value: "false"
                  image: tailscale/tailscale:latest
                  name: tailscale
                  securityContext:
                    capabilities:
                        add:
                            - NET_ADMIN
                            - NET_RAW
                    runAsGroup: 0
                    runAsUser: 0
                  volumeMounts:
                    - mountPath: /config/openclaw.json
                      name: config
                      readOnly: true
                      subPath: openclaw.json
                    - mountPath: /dev/net/tun
                      name: dev-tun
                    - mountPath: /home/node
                      name: main
                    - mountPath: /var/lib/tailscale
                      name: tailscale-state
            dnsPolicy: ClusterFirst
            enableServiceLinks: false
            hostIPC: false
            hostNetwork: false
            hostPID: false
            initContainers:
                - command:
                    - sh
                    - -c
                    - mkdir -p /home/node/.openclaw && cp /config/openclaw.json /home/node/.openclaw/openclaw.json
                  image: busybox:latest
                  name: copy-config
                  securityContext:
                    runAsGroup: 0
                    runAsUser: 0
                  volumeMounts:
                    - mountPath: /config/openclaw.json
                      name: config
                      readOnly: true
                      subPath: openclaw.json
                    - mountPath: /home/node
                      name: main
            serviceAccountName: default
            volumes:
                - configMap:
                    items:
                        - key: openclaw.json
                          path: openclaw.json
                    name: openclaw
                  name: config
                - hostPath:
                    path: /dev/net/tun
                  name: dev-tun
                - name: main
                  persistentVolumeClaim:
                    claimName: openclaw-main
                - name: tailscale-state
                  persistentVolumeClaim:
                    claimName: openclaw-tailscale-state
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBickVLTVhyTEtUY3ZZZXY4
            YXVkUXR3MWFHVWlMMkFCYWt4Q2pXSk9FQTFFCi92aHVvRmxpaVpHYUpWMW43OURr
            Sno1RGVEcEVXbUd3YXFUclA1b1ZmUUUKLS0tIHczWm5BQU0rU3pkcWpYRVIwU3RW
            OUp0SjVjdmpQblZCbStLZVFvK3ZvczQKn0U5hw38IeDQkfqG3VsC9O8LuHME825n
            YYr8QN+RfYCNeY9PXyuO7KHTK4J1W4+bsjk9vsq8XpLZyeznoJOeCA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzN3NabzhwT1NyelVWMkVG
            Y2xSVkg4OXZCUXdKenVGZDNKT2EzSS9WdWtVCldMNEl1cWNYUXlSQU4yK0twTnAr
            a3FoWVNid3ZNZGY3MFdURTVpWnFhYVkKLS0tIDd1NG81THV1MlYyR3Y3N0VuVjhZ
            aVNKMWM4T200REh4ZHZ3dTB0eTdMOEkKSUSOEAM4/0XtWAJA33b50gS6W90mxZAn
            XTIns3ZBtxJhCryMFipCh9mHs2jKYeBHIOYDxUd2+bbhpKOgZ6SLyA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBpNzdzMGtVRzZNMmV6R0Zx
            WFpEaWtTSDg4MlJVMFpLYTlmNTgwNzVmOWlBClh3UU1naDYzbmdvbWZQREl1MVhZ
            ajhJN2V0TklsN0s3enY4RFBTcnlVYk0KLS0tIFBhd1ZRYkRoa3Z1UnUxNGlvK0dH
            V2JWNkJVUElRaW9zZDlIdHZQemlxZnMK9EjGTy0P9hmBKO10gJSJ5dR8tDRqL+CX
            QIrC/PYkQz5Y06BY9OGpU4LTNh6QBQ43uQNHsyqsZ9p+RDaQxJtUxQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T14:25:41Z"
    mac: ENC[AES256_GCM,data:SPnxnskmeSdv0HPiUqjldGrp4BRcXNi0R3eQCV9L+yOu4xOokV6STQUawQpsICq2+gQaG2KNaCZtnpVOQ/xH+90xPENthvU/ljtrE9WHkElA+SMgl2ZpS2A/OCV5V8uYlihyoENzsGOk+A2DoNzJykVwBzuYov2lXHZ5cIhNt2c=,iv:BbXzsE/6DE7DrTZZzTsnCmkrFecgpNH7u0L7bkPD36Y=,tag:QhKnwI5ljtLTBUqVMObOJw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
data:
    openclaw.json: ENC[AES256_GCM,data:wu9H5wVQYHVjIBlYwDmOmfHo4s7pZMxuEoDNAFyXLs4tZts3wDJrykWv+3hgkTEXeZiwtlsCPHGTEgmLcEmSd1MTg52jJj3BtdwOiKAU2RNLRqy6BgUlq3cD8TrLUXfpUq9pG9Pcf6K3ymL5pi0ofEQQSFwHLM4Si4NZ4oWZLGbDN9kWsef+iXfH/NuquHnhALl7MeGBHQ+3EBe/L4WxuVursRd7DSd2Hy8EQ8dloB0KccPkX70jTsrsDH/w/kjX5eilqpujzHhLwzY7Lvzk3zPJrdT9+H1EReVp+sEJMyBwP2SDMAUtz6w0Pk4zOCoRXTRVM4cNeTEHJS19NCY9RrUPVNrKUAFae/J51DDfw7MzyyRIy72D0W8Su9UDISleUkqWONRzcnfy/5q9zppEV+pDSlS17POWn3d1zjnv1UcZyTa7STOWJrpo+jhZ8bay2PqO70/SCRoDeVnSeeUEcZ5S19uPBW1je1RnP7y2gdDG9IgIbZfExgXosABhyaDoZgsmacda+dgzUyXRCJXI0H7qQT8wQjl2iYIiZ1s9V1tapzbUFboMtWRUAMectpwINtqvO4t8ccc6/uMndrFebyujEdaqocvQoOnnc2nwiY/e0k6XI5+MITX98r5JvFN8NAoK4dlPs63rgdq13GtFG0AQ1TLDxkU0awsJnIuEomKsvVs6srhBpC9l2NmkWzBU1ShugpVXsdjX1zRPyvl/XSgvOUELntwFPrqivyO22E1fjHzbqZgx49cJQ304SqcCLilyh5GIbbpbSO1+f8TuE4Nhzp09e8PRyLAytFLZiC9bkmTBHjYB8urgxiXv/crTvhurvboqn6S5G+AfkZboH8yak92WcD7n14I+rZx0iP45VakRYXM57WCl6rG07gkzd23AwnMd1rZjkFIxuhEEPBJ123BNq3Wr007mn5p27m0rVBX0csTAhqbbKEPnKqTcQyhZRVCOFSaFMGb0A/dAskc8FdzjbFY85qECv8i4HSWTEiTOFF6xnnM97Xl/Jqj1FHB+3pnfjea9bK855hrVPEv7Z5U3lCkdQ0Ljc64B2vlZ+HFrawsa7UoNuxqcGTTBVDOCTj86IW8+26iYjxIXMah0TPAEIwh1Uawcq7rB3ltxma2oVev9wANKRAs2zMHkXJj/y2yxhSpz8996sV2N0O6x7E13dMq/c6nPLVCi7eYanqt2tz4tH9+KRK84fk4PxYKzc+4dk4kOZPjnO/kvOv4OwAZeLDU5VPXmpKeqLP11iffstGrdXljP12kqSgjfvtccMddifpHpO3UEyH8WPCIJak8AWPQYBy/sSwqsyjmkrh4n0CTRCmIdcabIUJ8nzE8X9ycv5KTHFdjn+zMY9KLpU2zioZak+eNJqjUqASYYCLyxA7gCUNPM3JBj36FgmlyEWqxt9ZC0o2Ee1dtvxFzPBJaKbbFfT7Pbq4z9z78zx0QP2TNUi7XXcZMuUEHtQAd4Ja6YQjv0DRh1dE+CX07LDZ7okdn5Dbs2yp5KPyZOrxEGB/OO0gqcxsGMlYIbK7xlwyS60Nrq1NTeezUi/08=,iv:0zu6ngGIMNGt+sOTg/Z03M5MJihpynSCwnaYRqd99c8=,tag:+pbUyLIwZ2NJGl7j0XUQYg==,type:str]
kind: ConfigMap
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw
    namespace: apps
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBickVLTVhyTEtUY3ZZZXY4
            YXVkUXR3MWFHVWlMMkFCYWt4Q2pXSk9FQTFFCi92aHVvRmxpaVpHYUpWMW43OURr
            Sno1RGVEcEVXbUd3YXFUclA1b1ZmUUUKLS0tIHczWm5BQU0rU3pkcWpYRVIwU3RW
            OUp0SjVjdmpQblZCbStLZVFvK3ZvczQKn0U5hw38IeDQkfqG3VsC9O8LuHME825n
            YYr8QN+RfYCNeY9PXyuO7KHTK4J1W4+bsjk9vsq8XpLZyeznoJOeCA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzN3NabzhwT1NyelVWMkVG
            Y2xSVkg4OXZCUXdKenVGZDNKT2EzSS9WdWtVCldMNEl1cWNYUXlSQU4yK0twTnAr
            a3FoWVNid3ZNZGY3MFdURTVpWnFhYVkKLS0tIDd1NG81THV1MlYyR3Y3N0VuVjhZ
            aVNKMWM4T200REh4ZHZ3dTB0eTdMOEkKSUSOEAM4/0XtWAJA33b50gS6W90mxZAn
            XTIns3ZBtxJhCryMFipCh9mHs2jKYeBHIOYDxUd2+bbhpKOgZ6SLyA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBpNzdzMGtVRzZNMmV6R0Zx
            WFpEaWtTSDg4MlJVMFpLYTlmNTgwNzVmOWlBClh3UU1naDYzbmdvbWZQREl1MVhZ
            ajhJN2V0TklsN0s3enY4RFBTcnlVYk0KLS0tIFBhd1ZRYkRoa3Z1UnUxNGlvK0dH
            V2JWNkJVUElRaW9zZDlIdHZQemlxZnMK9EjGTy0P9hmBKO10gJSJ5dR8tDRqL+CX
            QIrC/PYkQz5Y06BY9OGpU4LTNh6QBQ43uQNHsyqsZ9p+RDaQxJtUxQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T14:25:41Z"
    mac: ENC[AES256_GCM,data:SPnxnskmeSdv0HPiUqjldGrp4BRcXNi0R3eQCV9L+yOu4xOokV6STQUawQpsICq2+gQaG2KNaCZtnpVOQ/xH+90xPENthvU/ljtrE9WHkElA+SMgl2ZpS2A/OCV5V8uYlihyoENzsGOk+A2DoNzJykVwBzuYov2lXHZ5cIhNt2c=,iv:BbXzsE/6DE7DrTZZzTsnCmkrFecgpNH7u0L7bkPD36Y=,tag:QhKnwI5ljtLTBUqVMObOJw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw-main
    namespace: apps
spec:
    accessModes:
        - ReadWriteOnce
    resources:
        requests:
            storage: 10Gi
    storageClassName: rook-ceph-block
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBickVLTVhyTEtUY3ZZZXY4
            YXVkUXR3MWFHVWlMMkFCYWt4Q2pXSk9FQTFFCi92aHVvRmxpaVpHYUpWMW43OURr
            Sno1RGVEcEVXbUd3YXFUclA1b1ZmUUUKLS0tIHczWm5BQU0rU3pkcWpYRVIwU3RW
            OUp0SjVjdmpQblZCbStLZVFvK3ZvczQKn0U5hw38IeDQkfqG3VsC9O8LuHME825n
            YYr8QN+RfYCNeY9PXyuO7KHTK4J1W4+bsjk9vsq8XpLZyeznoJOeCA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzN3NabzhwT1NyelVWMkVG
            Y2xSVkg4OXZCUXdKenVGZDNKT2EzSS9WdWtVCldMNEl1cWNYUXlSQU4yK0twTnAr
            a3FoWVNid3ZNZGY3MFdURTVpWnFhYVkKLS0tIDd1NG81THV1MlYyR3Y3N0VuVjhZ
            aVNKMWM4T200REh4ZHZ3dTB0eTdMOEkKSUSOEAM4/0XtWAJA33b50gS6W90mxZAn
            XTIns3ZBtxJhCryMFipCh9mHs2jKYeBHIOYDxUd2+bbhpKOgZ6SLyA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBpNzdzMGtVRzZNMmV6R0Zx
            WFpEaWtTSDg4MlJVMFpLYTlmNTgwNzVmOWlBClh3UU1naDYzbmdvbWZQREl1MVhZ
            ajhJN2V0TklsN0s3enY4RFBTcnlVYk0KLS0tIFBhd1ZRYkRoa3Z1UnUxNGlvK0dH
            V2JWNkJVUElRaW9zZDlIdHZQemlxZnMK9EjGTy0P9hmBKO10gJSJ5dR8tDRqL+CX
            QIrC/PYkQz5Y06BY9OGpU4LTNh6QBQ43uQNHsyqsZ9p+RDaQxJtUxQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T14:25:41Z"
    mac: ENC[AES256_GCM,data:SPnxnskmeSdv0HPiUqjldGrp4BRcXNi0R3eQCV9L+yOu4xOokV6STQUawQpsICq2+gQaG2KNaCZtnpVOQ/xH+90xPENthvU/ljtrE9WHkElA+SMgl2ZpS2A/OCV5V8uYlihyoENzsGOk+A2DoNzJykVwBzuYov2lXHZ5cIhNt2c=,iv:BbXzsE/6DE7DrTZZzTsnCmkrFecgpNH7u0L7bkPD36Y=,tag:QhKnwI5ljtLTBUqVMObOJw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw-tailscale-state
    namespace: apps
spec:
    accessModes:
        - ReadWriteOnce
    resources:
        requests:
            storage: 1Gi
    storageClassName: rook-ceph-block
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBickVLTVhyTEtUY3ZZZXY4
            YXVkUXR3MWFHVWlMMkFCYWt4Q2pXSk9FQTFFCi92aHVvRmxpaVpHYUpWMW43OURr
            Sno1RGVEcEVXbUd3YXFUclA1b1ZmUUUKLS0tIHczWm5BQU0rU3pkcWpYRVIwU3RW
            OUp0SjVjdmpQblZCbStLZVFvK3ZvczQKn0U5hw38IeDQkfqG3VsC9O8LuHME825n
            YYr8QN+RfYCNeY9PXyuO7KHTK4J1W4+bsjk9vsq8XpLZyeznoJOeCA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzN3NabzhwT1NyelVWMkVG
            Y2xSVkg4OXZCUXdKenVGZDNKT2EzSS9WdWtVCldMNEl1cWNYUXlSQU4yK0twTnAr
            a3FoWVNid3ZNZGY3MFdURTVpWnFhYVkKLS0tIDd1NG81THV1MlYyR3Y3N0VuVjhZ
            aVNKMWM4T200REh4ZHZ3dTB0eTdMOEkKSUSOEAM4/0XtWAJA33b50gS6W90mxZAn
            XTIns3ZBtxJhCryMFipCh9mHs2jKYeBHIOYDxUd2+bbhpKOgZ6SLyA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBpNzdzMGtVRzZNMmV6R0Zx
            WFpEaWtTSDg4MlJVMFpLYTlmNTgwNzVmOWlBClh3UU1naDYzbmdvbWZQREl1MVhZ
            ajhJN2V0TklsN0s3enY4RFBTcnlVYk0KLS0tIFBhd1ZRYkRoa3Z1UnUxNGlvK0dH
            V2JWNkJVUElRaW9zZDlIdHZQemlxZnMK9EjGTy0P9hmBKO10gJSJ5dR8tDRqL+CX
            QIrC/PYkQz5Y06BY9OGpU4LTNh6QBQ43uQNHsyqsZ9p+RDaQxJtUxQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T14:25:41Z"
    mac: ENC[AES256_GCM,data:SPnxnskmeSdv0HPiUqjldGrp4BRcXNi0R3eQCV9L+yOu4xOokV6STQUawQpsICq2+gQaG2KNaCZtnpVOQ/xH+90xPENthvU/ljtrE9WHkElA+SMgl2ZpS2A/OCV5V8uYlihyoENzsGOk+A2DoNzJykVwBzuYov2lXHZ5cIhNt2c=,iv:BbXzsE/6DE7DrTZZzTsnCmkrFecgpNH7u0L7bkPD36Y=,tag:QhKnwI5ljtLTBUqVMObOJw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
---
apiVersion: v1
kind: Service
metadata:
    annotations:
        kubenix/k8s-version: "1.32"
        kubenix/project-name: ze-homelab
        lbipam.cilium.io/ips: 10.10.10.140
        lbipam.cilium.io/sharing-key: openclaw
    labels:
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: openclaw
        app.kubernetes.io/service: openclaw
        helm.sh/chart: app-template-4.2.0
        kubenix/module-name: release
        kubenix/module-version: 1.0.0
    name: openclaw
    namespace: apps
spec:
    ports:
        - name: http
          port: 18789
          protocol: TCP
          targetPort: 18789
    selector:
        app.kubernetes.io/controller: main
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/name: openclaw
    type: LoadBalancer
sops:
    age:
        - recipient: age16yrhmz8fytj7j9ns80zl40zjcdfd3pdxh48ld7ys7veea774udtqfn9jyx
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBickVLTVhyTEtUY3ZZZXY4
            YXVkUXR3MWFHVWlMMkFCYWt4Q2pXSk9FQTFFCi92aHVvRmxpaVpHYUpWMW43OURr
            Sno1RGVEcEVXbUd3YXFUclA1b1ZmUUUKLS0tIHczWm5BQU0rU3pkcWpYRVIwU3RW
            OUp0SjVjdmpQblZCbStLZVFvK3ZvczQKn0U5hw38IeDQkfqG3VsC9O8LuHME825n
            YYr8QN+RfYCNeY9PXyuO7KHTK4J1W4+bsjk9vsq8XpLZyeznoJOeCA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1jx9qu5p0ycvymrl2gykd9z3w8x8n67jxnatxs49j7qzspjr6asqqf8u35h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzN3NabzhwT1NyelVWMkVG
            Y2xSVkg4OXZCUXdKenVGZDNKT2EzSS9WdWtVCldMNEl1cWNYUXlSQU4yK0twTnAr
            a3FoWVNid3ZNZGY3MFdURTVpWnFhYVkKLS0tIDd1NG81THV1MlYyR3Y3N0VuVjhZ
            aVNKMWM4T200REh4ZHZ3dTB0eTdMOEkKSUSOEAM4/0XtWAJA33b50gS6W90mxZAn
            XTIns3ZBtxJhCryMFipCh9mHs2jKYeBHIOYDxUd2+bbhpKOgZ6SLyA==
            -----END AGE ENCRYPTED FILE-----
        - recipient: age1myzhwq67gu5zrfk8fvs0p7mh5fk67d20ltwqf9325ya83lm06ytsyax3j2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBpNzdzMGtVRzZNMmV6R0Zx
            WFpEaWtTSDg4MlJVMFpLYTlmNTgwNzVmOWlBClh3UU1naDYzbmdvbWZQREl1MVhZ
            ajhJN2V0TklsN0s3enY4RFBTcnlVYk0KLS0tIFBhd1ZRYkRoa3Z1UnUxNGlvK0dH
            V2JWNkJVUElRaW9zZDlIdHZQemlxZnMK9EjGTy0P9hmBKO10gJSJ5dR8tDRqL+CX
            QIrC/PYkQz5Y06BY9OGpU4LTNh6QBQ43uQNHsyqsZ9p+RDaQxJtUxQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-13T14:25:41Z"
    mac: ENC[AES256_GCM,data:SPnxnskmeSdv0HPiUqjldGrp4BRcXNi0R3eQCV9L+yOu4xOokV6STQUawQpsICq2+gQaG2KNaCZtnpVOQ/xH+90xPENthvU/ljtrE9WHkElA+SMgl2ZpS2A/OCV5V8uYlihyoENzsGOk+A2DoNzJykVwBzuYov2lXHZ5cIhNt2c=,iv:BbXzsE/6DE7DrTZZzTsnCmkrFecgpNH7u0L7bkPD36Y=,tag:QhKnwI5ljtLTBUqVMObOJw==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.10.2
